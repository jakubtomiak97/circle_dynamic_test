version: 2.1
#test
orbs:
  docker: circleci/docker@1.5.0
#hehehe
parameters:
  app1:
    type: boolean
    default: false
  app2:
    type: boolean
    default: false
  app3:
    type: boolean
    default: false
  trigger-all:
    type: boolean
    default: false

#hehe
# commands:
#   azure-cli-install-login:
#     steps:
#       - run:
#           name: test
#           command: echo test

jobs:
  app1-job:
    docker:
      - image: cimg/base:stable
    resource_class: small
    steps:
      - checkout
      - run:
          name: "Say hello"
          command: "echo app1 test1!"
      - add_ssh_keys:
          fingerprints:
            - "f5:2d:06:a7:70:9e:7f:40:3c:40:13:dc:21:92:9a:38"
      - run:
          name: "clone another repository"
          command: |
            git clone git@github.com:jakubtomiak97/test_private.git


workflows:
  app1:
    when:
      or:
        - << pipeline.parameters.app1 >>
        - << pipeline.parameters.trigger-all >>
    jobs:
      - app1-job




